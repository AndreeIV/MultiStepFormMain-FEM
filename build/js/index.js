window.addEventListener("DOMContentLoaded",iniciarApp);const btnBack=document.getElementById("btn-back"),btnNext=document.getElementById("btn-next"),app=document.getElementById("app"),addons=document.querySelectorAll(".addon"),errorsContainer=document.querySelectorAll(".errors");let contador=1,errors=[],type="month";const usuario={user:"",email:"",phone:null,services:{plan:{},addons:[]}};function iniciarApp(){selectYourPlan(),pickAddons(),paginador(),disabledButtonBack(),changeMontlyAndYearly()}function selectYourPlan(){document.querySelectorAll(".plan").forEach((e=>{e.addEventListener("click",(()=>{const o=e.children[1].children[0].textContent,n=e.children[1].children[1].textContent,t=e.children[2].children[1].textContent;switch(errors=[],e.style.border=`1px solid ${colorsPrimary.purplishBlue}`,type){case"month":usuario.services.plan={name:o,price:n};break;case"year":usuario.services.plan={name:o,price:t}}}))}))}let colorsNeutral={coolGray:"hsl(231, 11%, 63%)",lightGray:"hsl(229, 24%, 87%)",magnolia:"hsl(217, 100%, 97%)",alabaster:"hsl(231, 100%, 99%)",white:"hsl(0, 0%, 100%)"};const colorsPrimary={marineBlue:"hsl(213, 96%, 18%)",purplishBlue:"hsl(243, 100%, 62%)",pastelBlue:"hsl(228, 100%, 84%)",light:"hsl(206, 94%, 87%)",strawberryRed:"hsl(354, 84%, 57%)"};function pickAddons(){for(let e=0;e<addons.length;e++){const o=document.getElementById("container__appResults"),n=document.createElement("div"),t=addons[e];t.addEventListener("input",(e=>{let r=e.target.parentNode;const l=t.children[1].children[0].textContent,s=t.children[2].textContent,a=t.children[3].textContent;if(e.target.checked){r.parentNode.style.border=`1px solid ${colorsPrimary.purplishBlue}`,r.parentNode.style.backgroundColor=colorsNeutral.magnolia;for(let e=0;e<usuario.services.addons.length;e++){if(usuario.services.addons[e].name.includes(l))return}switch(type){case"month":usuario.services.addons.push({name:l,price:s});break;case"year":usuario.services.addons.push({name:l,price:a})}console.log(usuario.services.addons)}else{r.parentNode.style="";for(let e=0;e<usuario.services.addons.length;e++){const o=usuario.services.addons[e],n=usuario.services.addons.indexOf(o);-1!==n&&usuario.services.addons.splice(n,1),console.log(n)}console.log(usuario.services.addons)}n.classList.add("content-addon"),n.innerHTML=`\n                <div class="finish-addon">\n                    \n                    <h3 class="name-addon">\n                        ${t.children[1].children[0].textContent}\n                    </h3>\n                        \n    \n    \n                    <h3 class="price-addon">\n                        ${t.children[2].textContent}\n                    </h3>\n                </div>\n                \n            `,o.appendChild(n)}))}}function pagThankYou(e){const o=document.querySelector(".content__thank-you"),n=document.querySelector(".footer");5==contador?(o.style.display="flex",e[3].style.backgroundColor=colorsPrimary.light,e[3].style.color="black",n.remove()):o.style=""}const paginador=()=>{const e=document.querySelectorAll(".step"),o=document.querySelectorAll(".number");for(let n=0;n<o.length;n++){const t=e[n],r=o[n];t.dataset.step==contador?(r.style.backgroundColor=colorsPrimary.light,r.style.color="black",t.style.display="flex"):(r.style="",t.style="")}pagThankYou(o)};function changeMontlyAndYearly(){const e=document.getElementById("switch"),o=document.querySelector(".month"),n=document.querySelector(".year"),t=document.querySelectorAll(".data-year"),r=document.querySelectorAll(".data-month"),l=document.querySelectorAll(".addon-month"),s=document.querySelectorAll(".addon-year");e.addEventListener("input",(e=>{e.target.checked?(type="year",n.style.color=colorsPrimary.marineBlue,o.style.color=""):(type="month",o.style.color=colorsPrimary.marineBlue,n.style.color="");for(let o=0;o<r.length;o++){const n=r[o],a=t[o],c=l[o],d=s[o];e.target.checked?(n.style.display="none",a.style.display="flex",c.style.display="none",d.style.display="block"):(n.style="none",a.style="none",c.style="",d.style="")}}))}function showErrors(){}function disabledButtonBack(){btnBack.style.opacity=1==contador?"0":"1"}btnBack.addEventListener("click",(()=>{contador<=1||(contador>=1&&(btnBack.style.opacity="1"),contador--,paginador(),disabledButtonBack())})),btnNext.addEventListener("click",(()=>{const e=document.getElementById("name").value,o=document.getElementById("email").value,n=document.getElementById("phone").value;contador>=5||(usuario.user=e,usuario.email=o,usuario.phone=n,console.log(usuario),errors=[],e||errors.push({field:"name",message:"El nombre es requerido"}),o&&o.includes("@")&&o.includes(".com")||errors.push({field:"email",message:"El email es requerido"}),n||errors.push({field:"phone",message:"El phone es requerido"}),usuario.services.plan.length||errors.push({stepName:"SelectPlan",message:"Plan empty"}),console.log(contador),console.log(errors),errors.length>0?showErrors():0==errors.length&&(contador++,paginador(),disabledButtonBack()))}));const formulario=document.getElementById("formulario");formulario.addEventListener("submit",(e=>{e.preventDefault()}));
//# sourceMappingURL=index.js.map
